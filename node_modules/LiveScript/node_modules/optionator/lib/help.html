<!DOCTYPE html><html lang="en"><head><title>node_modules/LiveScript/node_modules/optionator/lib/help</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../../"><meta name="groc-document-path" content="node_modules/LiveScript/node_modules/optionator/lib/help"><meta name="groc-project-path" content="node_modules/LiveScript/node_modules/optionator/lib/help.js"><meta name="groc-github-url" content="https://github.com/DimensionSoftware/instant-skeleton"><link rel="stylesheet" type="text/css" media="all" href="../../../../../assets/style.css"><script type="text/javascript" src="../../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/DimensionSoftware/instant-skeleton/blob/master/node_modules/LiveScript/node_modules/optionator/lib/help.js">node_modules/LiveScript/node_modules/optionator/lib/help.js</a></div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><p>Generated by LiveScript 1.2.0</p></div></div><div class="code"><div class="wrapper">(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
  <span class="hljs-keyword">var</span> ref$, id, find, sort, min, max, map, partition, unlines, nameToRaw, dasherize, wordwrap, getPreText, setHelpStyleDefaults, generateHelpForOption, generateHelp;
  ref$ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'prelude-ls'</span>), id = ref$.id, find = ref$.find, sort = ref$.sort, min = ref$.min, max = ref$.max, map = ref$.map, partition = ref$.partition, unlines = ref$.unlines;
  ref$ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./util'</span>), nameToRaw = ref$.nameToRaw, dasherize = ref$.dasherize;
  wordwrap = <span class="hljs-built_in">require</span>(<span class="hljs-string">'wordwrap'</span>);
  getPreText = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(option, arg$, maxWidth)</span>{</span>
    <span class="hljs-keyword">var</span> mainName, aliases, ref$, type, description, aliasSeparator, typeSeparator, initialIndent, shortNames, longNames, names, namesString, namesStringLen, typeSeparatorString, typeSeparatorStringLen, typeString, that, wrap;
    mainName = option.option, aliases = (ref$ = option.aliases) != <span class="hljs-literal">null</span>
      ? ref$
      : [], type = option.type, description = option.description;
    aliasSeparator = arg$.aliasSeparator, typeSeparator = arg$.typeSeparator, initialIndent = arg$.initialIndent;
    ref$ = partition(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(it)</span>{</span>
      <span class="hljs-keyword">return</span> it.length === <span class="hljs-number">1</span>;
    }, aliases), shortNames = ref$[<span class="hljs-number">0</span>], longNames = ref$[<span class="hljs-number">1</span>];
    names = mainName.length === <span class="hljs-number">1</span>
      ? [mainName].concat(shortNames, longNames)
      : shortNames.concat([mainName], longNames);
    namesString = map(nameToRaw, names).join(aliasSeparator);
    namesStringLen = namesString.length;
    typeSeparatorString = mainName === <span class="hljs-string">'NUM'</span> ? <span class="hljs-string">'::'</span> : typeSeparator;
    typeSeparatorStringLen = typeSeparatorString.length;
    typeString = (that = option[<span class="hljs-string">'enum'</span>]) ? <span class="hljs-string">"One of: "</span> + that.join(<span class="hljs-string">', '</span>) : type;
    <span class="hljs-keyword">if</span> (maxWidth != <span class="hljs-literal">null</span> &amp;&amp; !option.boolean &amp;&amp; initialIndent + namesStringLen + typeSeparatorStringLen + typeString.length &gt; maxWidth) {
      wrap = wordwrap(initialIndent + namesStringLen + typeSeparatorStringLen, maxWidth);
      <span class="hljs-keyword">return</span> namesString + <span class="hljs-string">""</span> + typeSeparatorString + wrap(typeString).replace(<span class="hljs-regexp">/^\s+/</span>, <span class="hljs-string">''</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> namesString + <span class="hljs-string">""</span> + (option.boolean
        ? <span class="hljs-string">''</span>
        : typeSeparatorString + <span class="hljs-string">""</span> + typeString);
    }
  };
  setHelpStyleDefaults = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(helpStyle)</span>{</span>
    helpStyle.aliasSeparator == <span class="hljs-literal">null</span> &amp;&amp; (helpStyle.aliasSeparator = <span class="hljs-string">', '</span>);
    helpStyle.typeSeparator == <span class="hljs-literal">null</span> &amp;&amp; (helpStyle.typeSeparator = <span class="hljs-string">' '</span>);
    helpStyle.descriptionSeparator == <span class="hljs-literal">null</span> &amp;&amp; (helpStyle.descriptionSeparator = <span class="hljs-string">'  '</span>);
    helpStyle.initialIndent == <span class="hljs-literal">null</span> &amp;&amp; (helpStyle.initialIndent = <span class="hljs-number">2</span>);
    helpStyle.secondaryIndent == <span class="hljs-literal">null</span> &amp;&amp; (helpStyle.secondaryIndent = <span class="hljs-number">4</span>);
    helpStyle.maxPadFactor == <span class="hljs-literal">null</span> &amp;&amp; (helpStyle.maxPadFactor = <span class="hljs-number">1.5</span>);
  };
  generateHelpForOption = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(getOption, arg$)</span>{</span>
    <span class="hljs-keyword">var</span> stdout, helpStyle, ref$;
    stdout = arg$.stdout, helpStyle = (ref$ = arg$.helpStyle) != <span class="hljs-literal">null</span>
      ? ref$
      : {};
    setHelpStyleDefaults(helpStyle);
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(optionName)</span>{</span>
      <span class="hljs-keyword">var</span> maxWidth, wrap, option, e, pre, defaultString, restPositionalString, description, fullDescription, that, preDescription, descriptionString, exampleString, examples, seperator;
      maxWidth = stdout != <span class="hljs-literal">null</span> &amp;&amp; stdout.isTTY ? stdout.columns - <span class="hljs-number">1</span> : <span class="hljs-literal">null</span>;
      wrap = maxWidth ? wordwrap(maxWidth) : id;
      <span class="hljs-keyword">try</span> {
        option = getOption(dasherize(optionName));
      } <span class="hljs-keyword">catch</span> (e$) {
        e = e$;
        <span class="hljs-keyword">return</span> e.message;
      }
      pre = getPreText(option, helpStyle);
      defaultString = option[<span class="hljs-string">'default'</span>] ? <span class="hljs-string">"\ndefault: "</span> + option[<span class="hljs-string">'default'</span>] : <span class="hljs-string">''</span>;
      restPositionalString = option.restPositional ? <span class="hljs-string">'Everything after this option is considered a positional argument, even if it looks like an option.'</span> : <span class="hljs-string">''</span>;
      description = option.longDescription || option.description &amp;&amp; sentencize(option.description);
      fullDescription = description &amp;&amp; restPositionalString
        ? description + <span class="hljs-string">" "</span> + restPositionalString
        : (that = description || restPositionalString) ? that : <span class="hljs-string">''</span>;
      preDescription = <span class="hljs-string">'description:'</span>;
      descriptionString = !fullDescription
        ? <span class="hljs-string">''</span>
        : maxWidth &amp;&amp; fullDescription.length - <span class="hljs-number">1</span> - preDescription.length &gt; maxWidth
          ? <span class="hljs-string">"\n"</span> + preDescription + <span class="hljs-string">"\n"</span> + wrap(fullDescription)
          : <span class="hljs-string">"\n"</span> + preDescription + <span class="hljs-string">" "</span> + fullDescription;
      exampleString = (that = option.example) ? (examples = [].concat(that), examples.length &gt; <span class="hljs-number">1</span>
        ? <span class="hljs-string">"\nexamples:\n"</span> + unlines(examples)
        : <span class="hljs-string">"\nexample: "</span> + examples[<span class="hljs-number">0</span>]) : <span class="hljs-string">''</span>;
      seperator = defaultString || descriptionString || exampleString ? <span class="hljs-string">"\n"</span> + repeatString$(<span class="hljs-string">'='</span>, pre.length) : <span class="hljs-string">''</span>;
      <span class="hljs-keyword">return</span> pre + <span class="hljs-string">""</span> + seperator + defaultString + descriptionString + exampleString;
    };
  };
  generateHelp = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(arg$)</span>{</span>
    <span class="hljs-keyword">var</span> options, prepend, append, helpStyle, ref$, stdout, aliasSeparator, typeSeparator, descriptionSeparator, maxPadFactor, initialIndent, secondaryIndent;
    options = arg$.options, prepend = arg$.prepend, append = arg$.append, helpStyle = (ref$ = arg$.helpStyle) != <span class="hljs-literal">null</span>
      ? ref$
      : {}, stdout = arg$.stdout;
    setHelpStyleDefaults(helpStyle);
    aliasSeparator = helpStyle.aliasSeparator, typeSeparator = helpStyle.typeSeparator, descriptionSeparator = helpStyle.descriptionSeparator, maxPadFactor = helpStyle.maxPadFactor, initialIndent = helpStyle.initialIndent, secondaryIndent = helpStyle.secondaryIndent;
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(arg$)</span>{</span>
      <span class="hljs-keyword">var</span> ref$, showHidden, interpolate, maxWidth, output, out, data, optionCount, totalPreLen, preLens, i$, len$, item, that, pre, desc, preLen, sortedPreLens, maxPreLen, preLenMean, x, padAmount, descSepLen, fullWrapCount, partialWrapCount, descLen, totalLen, initialSpace, wrapAllFull, i, wrap;
      ref$ = arg$ != <span class="hljs-literal">null</span>
        ? arg$
        : {}, showHidden = ref$.showHidden, interpolate = ref$.interpolate;
      maxWidth = stdout != <span class="hljs-literal">null</span> &amp;&amp; stdout.isTTY ? stdout.columns - <span class="hljs-number">1</span> : <span class="hljs-literal">null</span>;
      output = [];
      out = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(it)</span>{</span>
        <span class="hljs-keyword">return</span> output.push(it != <span class="hljs-literal">null</span> ? it : <span class="hljs-string">''</span>);
      };
      <span class="hljs-keyword">if</span> (prepend) {
        out(interpolate ? interp(prepend, interpolate) : prepend);
        out();
      }
      data = [];
      optionCount = <span class="hljs-number">0</span>;
      totalPreLen = <span class="hljs-number">0</span>;
      preLens = [];
      <span class="hljs-keyword">for</span> (i$ = <span class="hljs-number">0</span>, len$ = (ref$ = options).length; i$ &lt; len$; ++i$) {
        item = ref$[i$];
        <span class="hljs-keyword">if</span> (showHidden || !item.hidden) {
          <span class="hljs-keyword">if</span> (that = item.heading) {
            data.push({
              type: <span class="hljs-string">'heading'</span>,
              value: that
            });
          } <span class="hljs-keyword">else</span> {
            pre = getPreText(item, helpStyle, maxWidth);
            desc = item[<span class="hljs-string">'default'</span>]
              ? (that = item.description) != <span class="hljs-literal">null</span>
                ? that + <span class="hljs-string">" - default: "</span> + item[<span class="hljs-string">'default'</span>]
                : <span class="hljs-string">"default: "</span> + item[<span class="hljs-string">'default'</span>]
              : (that = item.description) != <span class="hljs-literal">null</span> ? that : <span class="hljs-string">''</span>;
            data.push({
              type: <span class="hljs-string">'option'</span>,
              pre: pre,
              desc: desc,
              descLen: desc.length
            });
            preLen = pre.length;
            optionCount++;
            totalPreLen += preLen;
            preLens.push(preLen);
          }
        }
      }
      sortedPreLens = sort(preLens);
      maxPreLen = sortedPreLens[sortedPreLens.length - <span class="hljs-number">1</span>];
      preLenMean = initialIndent + totalPreLen / optionCount;
      x = optionCount &gt; <span class="hljs-number">2</span> ? min(preLenMean * maxPadFactor, maxPreLen) : maxPreLen;
      <span class="hljs-keyword">for</span> (i$ = sortedPreLens.length - <span class="hljs-number">1</span>; i$ &gt;= <span class="hljs-number">0</span>; --i$) {
        preLen = sortedPreLens[i$];
        <span class="hljs-keyword">if</span> (preLen &lt;= x) {
          padAmount = preLen;
          <span class="hljs-keyword">break</span>;
        }
      }
      descSepLen = descriptionSeparator.length;
      <span class="hljs-keyword">if</span> (maxWidth != <span class="hljs-literal">null</span>) {
        fullWrapCount = <span class="hljs-number">0</span>;
        partialWrapCount = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (i$ = <span class="hljs-number">0</span>, len$ = data.length; i$ &lt; len$; ++i$) {
          item = data[i$];
          <span class="hljs-keyword">if</span> (item.type === <span class="hljs-string">'option'</span>) {
            pre = item.pre, desc = item.desc, descLen = item.descLen;
            <span class="hljs-keyword">if</span> (descLen === <span class="hljs-number">0</span>) {
              item.wrap = <span class="hljs-string">'none'</span>;
            } <span class="hljs-keyword">else</span> {
              preLen = max(padAmount, pre.length) + initialIndent + descSepLen;
              totalLen = preLen + descLen;
              <span class="hljs-keyword">if</span> (totalLen &gt; maxWidth) {
                <span class="hljs-keyword">if</span> (descLen / <span class="hljs-number">2.5</span> &gt; maxWidth - preLen) {
                  fullWrapCount++;
                  item.wrap = <span class="hljs-string">'full'</span>;
                } <span class="hljs-keyword">else</span> {
                  partialWrapCount++;
                  item.wrap = <span class="hljs-string">'partial'</span>;
                }
              } <span class="hljs-keyword">else</span> {
                item.wrap = <span class="hljs-string">'none'</span>;
              }
            }
          }
        }
      }
      initialSpace = repeatString$(<span class="hljs-string">' '</span>, initialIndent);
      wrapAllFull = optionCount &gt; <span class="hljs-number">1</span> &amp;&amp; fullWrapCount + partialWrapCount * <span class="hljs-number">0.5</span> &gt; optionCount * <span class="hljs-number">0.5</span>;
      <span class="hljs-keyword">for</span> (i$ = <span class="hljs-number">0</span>, len$ = data.length; i$ &lt; len$; ++i$) {
        i = i$;
        item = data[i$];
        <span class="hljs-keyword">if</span> (item.type === <span class="hljs-string">'heading'</span>) {
          <span class="hljs-keyword">if</span> (i !== <span class="hljs-number">0</span>) {
            out();
          }
          out(item.value + <span class="hljs-string">":"</span>);
        } <span class="hljs-keyword">else</span> {
          pre = item.pre, desc = item.desc, descLen = item.descLen, wrap = item.wrap;
          <span class="hljs-keyword">if</span> (maxWidth != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (wrapAllFull || wrap === <span class="hljs-string">'full'</span>) {
              wrap = wordwrap(initialIndent + secondaryIndent, maxWidth);
              out(initialSpace + <span class="hljs-string">""</span> + pre + <span class="hljs-string">"\n"</span> + wrap(desc));
              <span class="hljs-keyword">continue</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (wrap === <span class="hljs-string">'partial'</span>) {
              wrap = wordwrap(initialIndent + descSepLen + max(padAmount, pre.length), maxWidth);
              out(initialSpace + <span class="hljs-string">""</span> + pad(pre, padAmount) + descriptionSeparator + wrap(desc).replace(<span class="hljs-regexp">/^\s+/</span>, <span class="hljs-string">''</span>));
              <span class="hljs-keyword">continue</span>;
            }
          }
          <span class="hljs-keyword">if</span> (descLen === <span class="hljs-number">0</span>) {
            out(initialSpace + <span class="hljs-string">""</span> + pre);
          } <span class="hljs-keyword">else</span> {
            out(initialSpace + <span class="hljs-string">""</span> + pad(pre, padAmount) + descriptionSeparator + desc);
          }
        }
      }
      <span class="hljs-keyword">if</span> (append) {
        out();
        out(interpolate ? interp(append, interpolate) : append);
      }
      <span class="hljs-keyword">return</span> unlines(output);
    };
  };
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pad</span><span class="hljs-params">(str, num)</span>{</span>
    <span class="hljs-keyword">var</span> len, padAmount;
    len = str.length;
    padAmount = num - len;
    <span class="hljs-keyword">return</span> str + <span class="hljs-string">""</span> + repeatString$(<span class="hljs-string">' '</span>, padAmount &gt; <span class="hljs-number">0</span> ? padAmount : <span class="hljs-number">0</span>);
  }
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sentencize</span><span class="hljs-params">(str)</span>{</span>
    <span class="hljs-keyword">var</span> first, rest, period;
    first = str.charAt(<span class="hljs-number">0</span>).toUpperCase();
    rest = str.slice(<span class="hljs-number">1</span>);
    period = <span class="hljs-regexp">/[\.!\?]$/</span>.test(str) ? <span class="hljs-string">''</span> : <span class="hljs-string">'.'</span>;
    <span class="hljs-keyword">return</span> first + <span class="hljs-string">""</span> + rest + period;
  }
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">interp</span><span class="hljs-params">(string, object)</span>{</span>
    <span class="hljs-keyword">return</span> string.replace(<span class="hljs-regexp">/{{([a-zA-Z$_][a-zA-Z$_0-9]*)}}/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(arg$, key)</span>{</span>
      <span class="hljs-keyword">var</span> ref$;
      <span class="hljs-keyword">return</span> (ref$ = object[key]) != <span class="hljs-literal">null</span>
        ? ref$
        : <span class="hljs-string">"{{"</span> + key + <span class="hljs-string">"}}"</span>;
    });
  }
  module.exports = {
    generateHelp: generateHelp,
    generateHelpForOption: generateHelpForOption
  };
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">repeatString$</span><span class="hljs-params">(str, n)</span>{</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> r = <span class="hljs-string">''</span>; n &gt; <span class="hljs-number">0</span>; (n &gt;&gt;= <span class="hljs-number">1</span>) &amp;&amp; (str += str)) <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>) r += str;
    <span class="hljs-keyword">return</span> r;
  }
}).call(<span class="hljs-keyword">this</span>);</div></div></div></div></body></html>