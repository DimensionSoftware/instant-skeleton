var Joi, T, configSchema, object;

Joi = require('joiful-experiments');

object = require('utila').object;

T = Joi.Types;

configSchema = {
  terminalWidth: T.Number().integer().min(20).required()
};

module.exports = function(config, defaultConfig) {
  var err, finalConfig;
  if (defaultConfig == null) {
    defaultConfig = {};
  }
  finalConfig = object.append(defaultConfig, config);
  err = Joi.validate(finalConfig, configSchema);
  if (err != null) {
    throw Error(err);
  } else {
    return finalConfig;
  }
};
